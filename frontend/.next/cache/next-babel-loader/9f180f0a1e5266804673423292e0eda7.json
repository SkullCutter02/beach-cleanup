{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/skullcutter/WebStormProjects/beach-cleanup/frontend/pages/forums/create.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Layout from \"../../components/Layout\";\nimport { UserContext } from \"../../context/UserContext\";\n\nconst CreateForum = () => {\n  const router = useRouter();\n  const userData = useContext(UserContext).data;\n  useEffect(() => {\n    if (localStorage.getItem(\"identifier\") === null || localStorage.getItem(\"password\") === null) {\n      router.push(\"/login\");\n    }\n  }, []);\n\n  const post = async e => {\n    e.preventDefault();\n    let title = document.getElementById(\"title\").value;\n    let body = document.getElementById(\"body\").value;\n    let uuid = uuidv4();\n    await axios({\n      method: \"POST\",\n      url: `${process.env.NEXT_PUBLIC_HOST}/forums`,\n      data: {\n        title: title,\n        body: body,\n        user: userData.user.username,\n        date: new Date().toDateString(),\n        uuid: uuid\n      },\n      headers: {\n        Authorization: `Bearer ${userData.jwt}`\n      }\n    }).catch(err => console.log(err));\n    await router.push(`/forums/${uuid}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"jsx-1187082947\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"jsx-1187082947\",\n          children: \"Create Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: post,\n          className: \"jsx-1187082947\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            placeholder: \"Title\",\n            id: \"title\",\n            name: \"title\",\n            className: \"jsx-1187082947\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"body\",\n            className: \"jsx-1187082947\",\n            children: \"Post Body (Pipeline character | to start a new paragraph)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            required: true,\n            name: \"body\",\n            id: \"body\",\n            cols: \"64\",\n            rows: \"30\",\n            placeholder: \"Post Body\",\n            className: \"jsx-1187082947\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"jsx-1187082947\",\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"1187082947\",\n      children: \"h1.jsx-1187082947{text-align:center;margin-top:15px;}form.jsx-1187082947{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}input.jsx-1187082947{display:block;height:25px;width:500px;margin-top:30px;}label.jsx-1187082947{margin-top:30px;}textarea.jsx-1187082947{margin-top:5px;}button.jsx-1187082947{margin-top:30px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9za3VsbGN1dHRlci9XZWJTdG9ybVByb2plY3RzL2JlYWNoLWNsZWFudXAvZnJvbnRlbmQvcGFnZXMvZm9ydW1zL2NyZWF0ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyRWtCLEFBRzZCLEFBS0wsQUFNQyxBQU9FLEFBSUQsQUFJQyxjQWRKLENBV2QsQ0FKQSxBQVFBLEVBMUJrQixRQVlKLFFBWGQsSUFZa0IsZ0JBQ2xCLG9CQVR3Qiw4RUFDSCw2RkFDckIiLCJmaWxlIjoiL1VzZXJzL3NrdWxsY3V0dGVyL1dlYlN0b3JtUHJvamVjdHMvYmVhY2gtY2xlYW51cC9mcm9udGVuZC9wYWdlcy9mb3J1bXMvY3JlYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0xheW91dFwiO1xuaW1wb3J0IHsgVXNlckNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9Vc2VyQ29udGV4dFwiO1xuXG5jb25zdCBDcmVhdGVGb3J1bSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlQ29udGV4dChVc2VyQ29udGV4dCkuZGF0YTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaWRlbnRpZmllclwiKSA9PT0gbnVsbCB8fFxuICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwYXNzd29yZFwiKSA9PT0gbnVsbFxuICAgICkge1xuICAgICAgcm91dGVyLnB1c2goXCIvbG9naW5cIik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgcG9zdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZTtcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9keVwiKS52YWx1ZTtcbiAgICBsZXQgdXVpZCA9IHV1aWR2NCgpO1xuXG4gICAgYXdhaXQgYXhpb3Moe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSE9TVH0vZm9ydW1zYCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICB1c2VyOiB1c2VyRGF0YS51c2VyLnVzZXJuYW1lLFxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpLFxuICAgICAgICB1dWlkOiB1dWlkLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3VzZXJEYXRhLmp3dH1gLFxuICAgICAgfSxcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuICAgIGF3YWl0IHJvdXRlci5wdXNoKGAvZm9ydW1zLyR7dXVpZH1gKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxtYWluPlxuICAgICAgICAgIDxoMT5DcmVhdGUgUG9zdDwvaDE+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3Bvc3R9PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRsZVwiXG4gICAgICAgICAgICAgIGlkPVwidGl0bGVcIlxuICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiYm9keVwiPlxuICAgICAgICAgICAgICBQb3N0IEJvZHkgKFBpcGVsaW5lIGNoYXJhY3RlciB8IHRvIHN0YXJ0IGEgbmV3IHBhcmFncmFwaClcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgbmFtZT1cImJvZHlcIlxuICAgICAgICAgICAgICBpZD1cImJvZHlcIlxuICAgICAgICAgICAgICBjb2xzPVwiNjRcIlxuICAgICAgICAgICAgICByb3dzPVwiMzBcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBvc3QgQm9keVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPXtcInN1Ym1pdFwifT5Qb3N0PC9idXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L21haW4+XG4gICAgICA8L0xheW91dD5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBoMSB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgICAgICAgd2lkdGg6IDUwMHB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgIH1cblxuICAgICAgICBsYWJlbCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgICAgIH1cblxuICAgICAgICBidXR0b24ge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3JlYXRlRm9ydW07XG4iXX0= */\\n/*@ sourceURL=/Users/skullcutter/WebStormProjects/beach-cleanup/frontend/pages/forums/create.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\nexport default CreateForum;","map":{"version":3,"sources":["/Users/skullcutter/WebStormProjects/beach-cleanup/frontend/pages/forums/create.js"],"names":["React","useEffect","useContext","useRouter","axios","v4","uuidv4","Layout","UserContext","CreateForum","router","userData","data","localStorage","getItem","push","post","e","preventDefault","title","document","getElementById","value","body","uuid","method","url","process","env","NEXT_PUBLIC_HOST","user","username","date","Date","toDateString","headers","Authorization","jwt","catch","err","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,WAAT,QAA4B,2BAA5B;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAMQ,QAAQ,GAAGT,UAAU,CAACM,WAAD,CAAV,CAAwBI,IAAzC;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACd,QACEY,YAAY,CAACC,OAAb,CAAqB,YAArB,MAAuC,IAAvC,IACAD,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,IAFvC,EAGE;AACAJ,MAAAA,MAAM,CAACK,IAAP,CAAY,QAAZ;AACD;AACF,GAPQ,EAON,EAPM,CAAT;;AASA,QAAMC,IAAI,GAAG,MAAOC,CAAP,IAAa;AACxBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA7C;AACA,QAAIC,IAAI,GAAGH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAA3C;AACA,QAAIE,IAAI,GAAGlB,MAAM,EAAjB;AAEA,UAAMF,KAAK,CAAC;AACVqB,MAAAA,MAAM,EAAE,MADE;AAEVC,MAAAA,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,gBAAiB,SAF3B;AAGVjB,MAAAA,IAAI,EAAE;AACJO,QAAAA,KAAK,EAAEA,KADH;AAEJI,QAAAA,IAAI,EAAEA,IAFF;AAGJO,QAAAA,IAAI,EAAEnB,QAAQ,CAACmB,IAAT,CAAcC,QAHhB;AAIJC,QAAAA,IAAI,EAAE,IAAIC,IAAJ,GAAWC,YAAX,EAJF;AAKJV,QAAAA,IAAI,EAAEA;AALF,OAHI;AAUVW,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASzB,QAAQ,CAAC0B,GAAI;AAD/B;AAVC,KAAD,CAAL,CAaHC,KAbG,CAaIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAbZ,CAAN;AAeA,UAAM7B,MAAM,CAACK,IAAP,CAAa,WAAUS,IAAK,EAA5B,CAAN;AACD,GAvBD;;AAyBA,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,4BACE,QAAC,MAAD;AAAA,6BACE;AAAA;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,QAAQ,EAAER,IAAhB;AAAA;AAAA,kCACE;AACE,YAAA,QAAQ,MADV;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,WAAW,EAAC,OAHd;AAIE,YAAA,EAAE,EAAC,OAJL;AAKE,YAAA,IAAI,EAAC,OALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAO,YAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eAWE;AACE,YAAA,QAAQ,MADV;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,EAAE,EAAC,MAHL;AAIE,YAAA,IAAI,EAAC,IAJP;AAKE,YAAA,IAAI,EAAC,IALP;AAME,YAAA,WAAW,EAAC,WANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,eAmBE;AAAQ,YAAA,IAAI,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8DD,CApGD;;AAsGA,eAAeP,WAAf","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport Layout from \"../../components/Layout\";\nimport { UserContext } from \"../../context/UserContext\";\n\nconst CreateForum = () => {\n  const router = useRouter();\n  const userData = useContext(UserContext).data;\n\n  useEffect(() => {\n    if (\n      localStorage.getItem(\"identifier\") === null ||\n      localStorage.getItem(\"password\") === null\n    ) {\n      router.push(\"/login\");\n    }\n  }, []);\n\n  const post = async (e) => {\n    e.preventDefault();\n\n    let title = document.getElementById(\"title\").value;\n    let body = document.getElementById(\"body\").value;\n    let uuid = uuidv4();\n\n    await axios({\n      method: \"POST\",\n      url: `${process.env.NEXT_PUBLIC_HOST}/forums`,\n      data: {\n        title: title,\n        body: body,\n        user: userData.user.username,\n        date: new Date().toDateString(),\n        uuid: uuid,\n      },\n      headers: {\n        Authorization: `Bearer ${userData.jwt}`,\n      },\n    }).catch((err) => console.log(err));\n\n    await router.push(`/forums/${uuid}`);\n  };\n\n  return (\n    <React.Fragment>\n      <Layout>\n        <main>\n          <h1>Create Post</h1>\n          <form onSubmit={post}>\n            <input\n              required\n              type=\"text\"\n              placeholder=\"Title\"\n              id=\"title\"\n              name=\"title\"\n            />\n            <label htmlFor=\"body\">\n              Post Body (Pipeline character | to start a new paragraph)\n            </label>\n            <textarea\n              required\n              name=\"body\"\n              id=\"body\"\n              cols=\"64\"\n              rows=\"30\"\n              placeholder=\"Post Body\"\n            />\n            <button type={\"submit\"}>Post</button>\n          </form>\n        </main>\n      </Layout>\n\n      <style jsx>{`\n        h1 {\n          text-align: center;\n          margin-top: 15px;\n        }\n\n        form {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n\n        input {\n          display: block;\n          height: 25px;\n          width: 500px;\n          margin-top: 30px;\n        }\n\n        label {\n          margin-top: 30px;\n        }\n\n        textarea {\n          margin-top: 5px;\n        }\n\n        button {\n          margin-top: 30px;\n        }\n      `}</style>\n    </React.Fragment>\n  );\n};\n\nexport default CreateForum;\n"]},"metadata":{},"sourceType":"module"}